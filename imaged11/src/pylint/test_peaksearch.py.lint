************* Module test_peaksearch
C0301: 74: Line too long (92/80)
C0301: 77: Line too long (92/80)
C0301: 81: Line too long (88/80)
C0301:102: Line too long (96/80)
W0511: 51: FIXME - fit this into unit tests and kill the combinatorial explosion
W0511: 97: FIXME 
C0111:  1: Missing docstring
C0103: 12:w: Invalid name "w" (should match [a-z_][a-z0-9_]{2,30}$)
C0111: 12:w: Missing docstring
C0324: 12:w: Comma not followed by a space
def w(name,image,omega=0):
          ^^
C0322: 14:w: Operator not preceded by a space
    f=open(name,"wb")
     ^
C0103: 14:w: Invalid name "f" (should match [a-z_][a-z0-9_]{2,30}$)
E1101: 22:w: Module 'numpy.oldnumeric' has no 'UInt16' member
C0111: 25:makedata: Missing docstring
C0322: 27:makedata: Operator not preceded by a space
    image=Numeric.ones((256,256),Numeric.UInt16)*20
         ^
E1101: 27:makedata: Module 'numpy.oldnumeric' has no 'UInt16' member
C0322: 28:makedata: Operator not preceded by a space
    image[20:53,56:99]=20000 # big spot
                      ^
C0324: 29:makedata: Comma not followed by a space
    w("data0000.edf",image,0)
                    ^^
C0322: 30:makedata: Operator not preceded by a space
    image[20:53,56:99]=20 # put back to 20
                      ^
C0322: 31:makedata: Operator not preceded by a space
    image[20:30,56:66]=10000 # two disconnected
                      ^
C0322: 32:makedata: Operator not preceded by a space
    image[43:53,89:99]=10000
                      ^
C0324: 33:makedata: Comma not followed by a space
    w("data0001.edf",image,1)
                    ^^
C0322: 34:makedata: Operator not preceded by a space
    image[20:53,56:99]=20000 # put back to 20000
                      ^
C0324: 35:makedata: Comma not followed by a space
    w("data0002.edf",image,2)
                    ^^
C0322: 36:makedata: Operator not preceded by a space
    image[20:53,56:99]=20 # put back to 20
                      ^
C0324: 37:makedata: Comma not followed by a space
    w("data0003.edf",image,3)
                    ^^
C0324: 38:makedata: Comma not followed by a space
    w("dark_good.edf",image*0+1)
                     ^^
C0324: 39:makedata: Comma not followed by a space
    w("dark_bad.edf",image*0+65534)
                    ^^
C0111: 43:losedata: Missing docstring
C0323: 45:losedata: Operator not followed by a space
        name = "data%04d.edf"%(i)
                             ^
C0324: 46:losedata: Comma not followed by a space
        print "removing",name
                        ^^
C0103: 55: Invalid name "ps" (should match (([A-Z_]*)|(__.*__))$)
C0103: 56: Invalid name "ps" (should match (([A-Z_]*)|(__.*__))$)
C0103: 60: Invalid name "cmds" (should match (([A-Z_]*)|(__.*__))$)
C0323: 63: Operator not followed by a space
cmds = [cmd + "-l %d "%(last) for last in [0,1,3] for cmd in cmds]
                      ^
C0103: 63: Invalid name "cmds" (should match (([A-Z_]*)|(__.*__))$)
C0324: 66: Comma not followed by a space
thresholds = ["0","5500"]
                 ^^
C0103: 66: Invalid name "thresholds" (should match (([A-Z_]*)|(__.*__))$)
C0323: 68: Operator not followed by a space
cmds = [cmd + "-t %s "%(t) for t in thresholds for cmd in cmds]
                      ^
C0103: 68: Invalid name "cmds" (should match (([A-Z_]*)|(__.*__))$)
C0103: 70: Invalid name "cmds" (should match (([A-Z_]*)|(__.*__))$)
C0323: 74: Operator not followed by a space
cmds = cmds + [cmd + "-d %s "%(d) for d in ["dark_good.edf","dark_bad.edf"] for cmd in cmds]
                             ^
C0103: 74: Invalid name "cmds" (should match (([A-Z_]*)|(__.*__))$)
C0323: 77: Operator not followed by a space
cmds = cmds + [cmd + "-O %s "%(d) for d in ["dark_good.edf","dark_bad.edf"] for cmd in cmds]
                             ^
C0103: 77: Invalid name "cmds" (should match (([A-Z_]*)|(__.*__))$)
C0103: 81: Invalid name "clist" (should match (([A-Z_]*)|(__.*__))$)
W0404: 83: Reimport 'os' (imported line 54)
W0621: 85:testcmdlines: Redefining name 'clist' from outer scope (line 81)
C0111: 85:testcmdlines: Missing docstring
C0103: 88:testcmdlines: Invalid name "c" (should match [a-z_][a-z0-9_]{2,30}$)
C0322: 95: Operator not preceded by a space
if __name__=="__main__":
           ^^


Report
======
58 statements analysed.

Duplication
-----------

+-------------------------+------+---------+-----------+
|                         |now   |previous |difference |
+=========================+======+=========+===========+
|nb duplicated lines      |0     |0        |=          |
+-------------------------+------+---------+-----------+
|percent duplicated lines |0.000 |0.000    |=          |
+-------------------------+------+---------+-----------+



Raw metrics
-----------

+----------+-------+------+---------+-----------+
|type      |number |%     |previous |difference |
+==========+=======+======+=========+===========+
|code      |65     |71.43 |60       |+5.00      |
+----------+-------+------+---------+-----------+
|docstring |1      |1.10  |1        |=          |
+----------+-------+------+---------+-----------+
|comment   |9      |9.89  |9        |=          |
+----------+-------+------+---------+-----------+
|empty     |16     |17.58 |16       |=          |
+----------+-------+------+---------+-----------+



External dependencies
---------------------
::

    numpy 
      \-oldnumeric (test_peaksearch)



Statistics by type
------------------

+---------+-------+-----------+-----------+------------+---------+
|type     |number |old number |difference |%documented |%badname |
+=========+=======+===========+===========+============+=========+
|module   |1      |1          |=          |0.00        |0.00     |
+---------+-------+-----------+-----------+------------+---------+
|class    |0      |0          |=          |0.00        |0.00     |
+---------+-------+-----------+-----------+------------+---------+
|method   |0      |0          |=          |0.00        |0.00     |
+---------+-------+-----------+-----------+------------+---------+
|function |4      |4          |=          |0.00        |25.00    |
+---------+-------+-----------+-----------+------------+---------+



Messages by category
--------------------

+-----------+-------+---------+-----------+
|type       |number |previous |difference |
+===========+=======+=========+===========+
|convention |45     |45       |=          |
+-----------+-------+---------+-----------+
|refactor   |0      |0        |=          |
+-----------+-------+---------+-----------+
|warning    |4      |4        |=          |
+-----------+-------+---------+-----------+
|error      |2      |2        |=          |
+-----------+-------+---------+-----------+



Messages
--------

+-----------+-----------+
|message id |occurences |
+===========+===========+
|C0103      |13         |
+-----------+-----------+
|C0324      |9          |
+-----------+-----------+
|C0322      |9          |
+-----------+-----------+
|C0323      |5          |
+-----------+-----------+
|C0111      |5          |
+-----------+-----------+
|C0301      |4          |
+-----------+-----------+
|W0511      |2          |
+-----------+-----------+
|E1101      |2          |
+-----------+-----------+
|W0621      |1          |
+-----------+-----------+
|W0404      |1          |
+-----------+-----------+



Global evaluation
-----------------
Your code has been rated at -0.17/10 (previous run: -1.13/10)

