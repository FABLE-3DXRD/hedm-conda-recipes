
<!doctype html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module ImageD11.connectedpixels</title>
</head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong><a href="ImageD11.html"><font color="#ffffff">ImageD11</font></a>.connectedpixels</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:/sware/exp/fable/standalone/redhate4-a64/lib/python2.5/site-packages/ImageD11/connectedpixels.so">/sware/exp/fable/standalone/redhate4-a64/lib/python2.5/site-packages/ImageD11/connectedpixels.so</a></font></td></tr></table>
    <p><tt>C&nbsp;extensions&nbsp;for&nbsp;image&nbsp;analysis,&nbsp;part&nbsp;of&nbsp;ImageD11</tt></p>
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#eeaa77">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Functions</strong></big></font></td></tr>
    
<tr><td bgcolor="#eeaa77"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl><dt><a name="-blob_moments"><strong>blob_moments</strong></a>(...)</dt><dd><tt>None&nbsp;=&nbsp;<a href="#-blob_moments">blob_moments</a>(Numeric.array(peaks1))<br>
&nbsp;<br>
Loop&nbsp;over&nbsp;array&nbsp;filling&nbsp;out&nbsp;moments&nbsp;from&nbsp;sums</tt></dd></dl>
 <dl><dt><a name="-bloboverlaps"><strong>bloboverlaps</strong></a>(...)</dt><dd><tt>success&nbsp;=&nbsp;bloboverlaps&nbsp;(&nbsp;&nbsp;&nbsp;Numeric.array(blob1,&nbsp;2D,&nbsp;Int),&nbsp;n1&nbsp;&nbsp;,&nbsp;res1&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Numeric.array(blob2,&nbsp;2D,&nbsp;Int),&nbsp;n2&nbsp;&nbsp;,&nbsp;res2,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;verbose=0)&nbsp;<br>
&nbsp;<br>
merges&nbsp;the&nbsp;results&nbsp;from&nbsp;blob1/res1&nbsp;into&nbsp;blob2/res2<br>
blob1&nbsp;would&nbsp;be&nbsp;the&nbsp;previous&nbsp;image&nbsp;from&nbsp;the&nbsp;series,&nbsp;with&nbsp;its&nbsp;results<br>
&nbsp;&nbsp;if&nbsp;it&nbsp;does&nbsp;not&nbsp;overlap&nbsp;it&nbsp;will&nbsp;stay&nbsp;untouched&nbsp;in&nbsp;res<br>
&nbsp;&nbsp;if&nbsp;it&nbsp;overlaps&nbsp;with&nbsp;next&nbsp;image&nbsp;it&nbsp;is&nbsp;passed&nbsp;into&nbsp;that&nbsp;ones&nbsp;res</tt></dd></dl>
 <dl><dt><a name="-blobproperties"><strong>blobproperties</strong></a>(...)</dt><dd><tt>res&nbsp;=&nbsp;blobproperties&nbsp;(&nbsp;Numeric.array(data,&nbsp;2D)&nbsp;&nbsp;,&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Numeric.array(blob,&nbsp;2D,&nbsp;Int)&nbsp;&nbsp;,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Int&nbsp;np&nbsp;,&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Int&nbsp;verbose&nbsp;)<br>
&nbsp;<br>
Computes&nbsp;various&nbsp;properties&nbsp;of&nbsp;a&nbsp;blob&nbsp;image&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(created&nbsp;by&nbsp;connectedpixels)<br>
data&nbsp;&nbsp;=&nbsp;image&nbsp;data&nbsp;<br>
blob&nbsp;&nbsp;=&nbsp;integer&nbsp;peak&nbsp;assignments&nbsp;from&nbsp;connectedpixels&nbsp;<br>
np&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;number&nbsp;of&nbsp;peaks&nbsp;to&nbsp;treat&nbsp;<br>
verbose&nbsp;&nbsp;-&nbsp;flag&nbsp;about&nbsp;whether&nbsp;to&nbsp;print</tt></dd></dl>
 <dl><dt><a name="-connectedpixels"><strong>connectedpixels</strong></a>(...)</dt><dd><tt>nblobs&nbsp;=&nbsp;connectedpixels&nbsp;(&nbsp;data=Numeric.array(data,&nbsp;2D)&nbsp;&nbsp;,&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;results=Numeric.array(blob,&nbsp;2D,&nbsp;Int)&nbsp;&nbsp;,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;threshold=float&nbsp;threshold&nbsp;,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;verbose=Int&nbsp;verbose&nbsp;)<br>
data&nbsp;is&nbsp;normally&nbsp;an&nbsp;image&nbsp;<br>
blob&nbsp;is&nbsp;an&nbsp;array&nbsp;to&nbsp;receive&nbsp;pixel&nbsp;-&gt;&nbsp;blob&nbsp;assignments<br>
threshold&nbsp;is&nbsp;the&nbsp;value&nbsp;above&nbsp;which&nbsp;a&nbsp;pixel&nbsp;is&nbsp;considered&nbsp;to&nbsp;be&nbsp;in&nbsp;a&nbsp;blob<br>
verbose&nbsp;flags&nbsp;printing&nbsp;on&nbsp;stdout</tt></dd></dl>
 <dl><dt><a name="-roisum"><strong>roisum</strong></a>(...)</dt><dd><tt>(float)&nbsp;roisum&nbsp;(&nbsp;Numeric.array(2D),&nbsp;xl&nbsp;,&nbsp;xh&nbsp;,&nbsp;yl&nbsp;,&nbsp;yh&nbsp;,&nbsp;verbose=0&nbsp;)&nbsp;<br>
sum(&nbsp;array[xl:xh&nbsp;,&nbsp;yl:yh]&nbsp;)&nbsp;where&nbsp;x,y&nbsp;refer&nbsp;to&nbsp;SLOW/FAST&nbsp;indices&nbsp;&nbsp;&nbsp;<br>
...&nbsp;NOT&nbsp;Numeric&nbsp;indices,&nbsp;but&nbsp;slow/fast&nbsp;<br>
Unsure&nbsp;why&nbsp;this&nbsp;was&nbsp;written&nbsp;-&nbsp;can&nbsp;be&nbsp;done&nbsp;with&nbsp;Numeric&nbsp;anyway</tt></dd></dl>
 <dl><dt><a name="-update_blobs"><strong>update_blobs</strong></a>(...)</dt><dd><tt>update_blobs&nbsp;(&nbsp;&nbsp;&nbsp;Numeric.array(blob,&nbsp;2D,&nbsp;Int),&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Numeric.array(set&nbsp;,&nbsp;2D,&nbsp;Int)&nbsp;,&nbsp;verbose=0)&nbsp;<br>
&nbsp;<br>
updates&nbsp;blob&nbsp;image&nbsp;such&nbsp;that&nbsp;:&nbsp;<br>
if&nbsp;blob[i,j]&nbsp;&gt;&nbsp;0:&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;blob[i,j]&nbsp;=&nbsp;set[blob[i,j]]<br>
&nbsp;<br>
Used&nbsp;to&nbsp;update&nbsp;a&nbsp;blob&nbsp;image&nbsp;merging&nbsp;peaks&nbsp;which&nbsp;have&nbsp;overlapped&nbsp;due<br>
to&nbsp;the&nbsp;third&nbsp;dimension.</tt></dd></dl>
</td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#55aa55">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Data</strong></big></font></td></tr>
    
<tr><td bgcolor="#55aa55"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><strong>NPROPERTY</strong> = 36<br>
<strong>avg_i</strong> = 22<br>
<strong>bb_mn_f</strong> = 19<br>
<strong>bb_mn_o</strong> = 21<br>
<strong>bb_mn_s</strong> = 20<br>
<strong>bb_mx_f</strong> = 16<br>
<strong>bb_mx_o</strong> = 18<br>
<strong>bb_mx_s</strong> = 17<br>
<strong>dety</strong> = 34<br>
<strong>detz</strong> = 35<br>
<strong>f_cen</strong> = 32<br>
<strong>f_raw</strong> = 23<br>
<strong>m_ff</strong> = 27<br>
<strong>m_fo</strong> = 31<br>
<strong>m_oo</strong> = 28<br>
<strong>m_sf</strong> = 29<br>
<strong>m_so</strong> = 30<br>
<strong>m_ss</strong> = 26<br>
<strong>mx_I</strong> = 12<br>
<strong>mx_I_f</strong> = 13<br>
<strong>mx_I_o</strong> = 15<br>
<strong>mx_I_s</strong> = 14<br>
<strong>o_raw</strong> = 25<br>
<strong>s_1</strong> = 0<br>
<strong>s_I</strong> = 1<br>
<strong>s_I2</strong> = 2<br>
<strong>s_cen</strong> = 33<br>
<strong>s_fI</strong> = 3<br>
<strong>s_ffI</strong> = 4<br>
<strong>s_foI</strong> = 11<br>
<strong>s_oI</strong> = 8<br>
<strong>s_ooI</strong> = 9<br>
<strong>s_raw</strong> = 24<br>
<strong>s_sI</strong> = 5<br>
<strong>s_sfI</strong> = 7<br>
<strong>s_soI</strong> = 10<br>
<strong>s_ssI</strong> = 6</td></tr></table>
</body></html>